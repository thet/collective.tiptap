"use strict";(self.webpackChunk_patternslib_pat_tiptap=self.webpackChunk_patternslib_pat_tiptap||[]).push([[211],{7587:function(e,t,n){n.r(t);var r=n(33),a=(n(5666),n(1191)),o=n(7424),l=n(2799),i=n(7834),u=n(2218);function c(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t,n,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){d(o,r,a,l,i,"next",e)}function i(e){d(o,r,a,l,i,"throw",e)}l(void 0)}))}}var p=o.Z.getLogger("tiptap"),_=new l.Z("tiptap");_.addArgument("collaboration-server",null),_.addArgument("collaboration-document",null),_.addArgument("toolbar-external",null),_.addArgument("image-panel",null),_.addArgument("link-panel",null),_.addArgument("source-panel",null),_.addArgument("context-menu-link",null),_.addArgument("context-menu-mentions",null),_.addArgument("url-scheme-mentions",null),_.addArgument("context-menu-tags",null),_.addArgument("url-scheme-tags",null);a.Z.extend({name:"tiptap",trigger:".pat-tiptap",toolbar:{},tooltip:null,prev_node:null,observer_link_panel:null,observer_image_panel:null,observer_source_panel:null,dont_open_context_menu:!1,init:function(){var e=this;return b(regeneratorRuntime.mark((function t(){var r,a,o,l,u,s,d,b,p,m,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.e(798).then(n.bind(n,6798));case 2:return r=t.sent.Editor,t.next=5,Promise.all([n.e(798),n.e(481)]).then(n.bind(n,8481));case 5:return a=t.sent.default,t.next=8,Promise.all([n.e(798),n.e(457)]).then(n.bind(n,9457));case 8:return o=t.sent.default,t.next=11,Promise.all([n.e(798),n.e(68)]).then(n.bind(n,9068));case 11:return l=t.sent.default,t.t0=i.Z,t.next=15,Promise.all([n.e(798),n.e(842)]).then(n.bind(n,4842));case 15:if(t.t1=t.sent.context_menu,e.debounced_context_menu=t.t0.debounce.call(t.t0,t.t1,50),e.options=_.parse(e.el,e.options),e.el.style.display="none",(u=document.createElement("div")).setAttribute("class","tiptap-container"),e.el.after(u),s=e.el.classList.contains("pat-autofocus")||e.el.hasAttribute("autofocus"),d=["TEXTAREA","INPUT"].includes(e.el.tagName),b=function(){return d?e.el.value:e.el.innerHTML},p=function(t){d?e.el.value=t:e.el.innerHTML=t},m=[],!(h=e.el.getAttribute("placeholder"))){t.next=34;break}return t.t2=m,t.next=32,Promise.all([n.e(798),n.e(797)]).then(n.bind(n,2797));case 32:t.t3=t.sent.Placeholder.configure({placeholder:h}),t.t2.push.call(t.t2,t.t3);case 34:return t.t4=m,t.next=37,Promise.all([n.e(798),n.e(334)]).then(n.bind(n,4334));case 37:if(t.t5=t.sent.Gapcursor.configure(),t.t4.push.call(t.t4,t.t5),!e.options.context["menu-mentions"]){t.next=45;break}return t.t6=m,t.next=43,Promise.all([n.e(798),n.e(629)]).then(n.bind(n,9629));case 43:t.t7=t.sent.Mention.configure({url_scheme:e.options.url["scheme-mentions"],suggestion:{render:function(){var t;return{onStart:function(n){t=e.debounced_context_menu(e.options.context["menu-mentions"],e.editor,void 0,e.pattern_mentions_context_menu(n))},onKeyDown:function(e){var n;if("Escape"===e.event.key)return null===(n=t)||void 0===n||n.hide(),!0},onExit:function(){var e;null===(e=t)||void 0===e||e.destroy()}}}}}),t.t6.push.call(t.t6,t.t7);case 45:if(!e.options.context["menu-tags"]){t.next=51;break}return t.t8=m,t.next=49,Promise.all([n.e(798),n.e(325)]).then(n.bind(n,325));case 49:t.t9=t.sent.Tag.configure({url_scheme:e.options.url["scheme-tags"],suggestion:{render:function(){var t;return{onStart:function(n){t=e.debounced_context_menu(e.options.context["menu-tags"],e.editor,void 0,e.pattern_tags_context_menu(n))},onKeyDown:function(e){var n;if("Escape"===e.event.key)return null===(n=t)||void 0===n||n.hide(),!0},onExit:function(){var e;null===(e=t)||void 0===e||e.destroy()}}}}}),t.t8.push.call(t.t8,t.t9);case 51:return e.toolbar_pre_init(),t.t10=r,t.t11=u,t.t12=[a,l,o],t.t13=c,t.next=58,e.toolbar_extensions();case 58:t.t14=t.sent,t.t15=(0,t.t13)(t.t14),t.t16=m,t.t17=t.t12.concat.call(t.t12,t.t15,t.t16),t.t18=b(),t.t19=function(){p(this.getHTML())},t.t20=s,t.t21={element:t.t11,extensions:t.t17,content:t.t18,onUpdate:t.t19,autofocus:t.t20},e.editor=new t.t10(t.t21),e.toolbar_post_init();case 68:case"end":return t.stop()}}),t)})))()},toolbar_pre_init:function(){var e=this.options.toolbarExternal?document.querySelector(this.options.toolbarExternal):null;e&&(this.toolbar.heading_level_1=e.querySelector(".button-heading-level-1"),this.toolbar.heading_level_2=e.querySelector(".button-heading-level-2"),this.toolbar.heading_level_3=e.querySelector(".button-heading-level-3"),this.toolbar.heading_level_4=e.querySelector(".button-heading-level-4"),this.toolbar.heading_level_5=e.querySelector(".button-heading-level-5"),this.toolbar.heading_level_6=e.querySelector(".button-heading-level-6"),this.toolbar.paragraph=e.querySelector(".button-paragraph"),this.toolbar.blockquote=e.querySelector(".button-blockquote"),this.toolbar.code_block=e.querySelector(".button-code-block"),this.toolbar.bold=e.querySelector(".button-bold"),this.toolbar.italic=e.querySelector(".button-italic"),this.toolbar.strike=e.querySelector(".button-strike"),this.toolbar.code=e.querySelector(".button-code"),this.toolbar.unordered_list=e.querySelector(".button-unordered-list"),this.toolbar.ordered_list=e.querySelector(".button-ordered-list"),this.toolbar.table_create=e.querySelector(".button-table-create"),this.toolbar.table_add_row_above=e.querySelector(".button-table-add-row-above"),this.toolbar.table_add_row_below=e.querySelector(".button-table-add-row-below"),this.toolbar.table_add_column_left=e.querySelector(".button-table-add-column-left"),this.toolbar.table_add_column_right=e.querySelector(".button-table-add-column-right"),this.toolbar.table_header_cell=e.querySelector(".button-table-header-cell"),this.toolbar.table_header_row=e.querySelector(".button-table-header-row"),this.toolbar.table_header_column=e.querySelector(".button-table-header-column"),this.toolbar.table_merge_cells=e.querySelector(".button-table-merge-cells"),this.toolbar.table_remove=e.querySelector(".button-table-remove"),this.toolbar.table_remove_row=e.querySelector(".button-table-remove-row"),this.toolbar.table_remove_column=e.querySelector(".button-table-remove-column"),this.toolbar.horizontal_rule=e.querySelector(".button-horizontal-rule"),this.toolbar.undo=e.querySelector(".button-undo"),this.toolbar.redo=e.querySelector(".button-redo"),this.toolbar.link=e.querySelector(".button-link"),this.toolbar.image=e.querySelector(".button-image"),this.toolbar.source=e.querySelector(".button-source"))},toolbar_extensions:function(){var e=this;return b(regeneratorRuntime.mark((function t(){var r,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=[],0!==Object.values(e.toolbar).length){t.next=3;break}return t.abrupt("return",[]);case 3:if(a=!1,!((o=e.toolbar).heading_level_1||o.heading_level_2||o.heading_level_3||o.heading_level_4||o.heading_level_5||o.heading_level_6)){t.next=11;break}return t.t0=r,t.next=9,Promise.all([n.e(798),n.e(769)]).then(n.bind(n,1769));case 9:t.t1=t.sent.Heading,t.t0.push.call(t.t0,t.t1);case 11:if(!o.blockquote){t.next=17;break}return t.t2=r,t.next=15,Promise.all([n.e(798),n.e(856)]).then(n.bind(n,6856));case 15:t.t3=t.sent.Blockquote,t.t2.push.call(t.t2,t.t3);case 17:if(!o.code_block){t.next=23;break}return t.t4=r,t.next=21,Promise.all([n.e(798),n.e(889)]).then(n.bind(n,9889));case 21:t.t5=t.sent.CodeBlock,t.t4.push.call(t.t4,t.t5);case 23:if(!o.bold){t.next=29;break}return t.t6=r,t.next=27,Promise.all([n.e(798),n.e(128)]).then(n.bind(n,128));case 27:t.t7=t.sent.Bold,t.t6.push.call(t.t6,t.t7);case 29:if(!o.italic){t.next=35;break}return t.t8=r,t.next=33,Promise.all([n.e(798),n.e(867)]).then(n.bind(n,9802));case 33:t.t9=t.sent.Italic,t.t8.push.call(t.t8,t.t9);case 35:if(!o.strike){t.next=41;break}return t.t10=r,t.next=39,Promise.all([n.e(798),n.e(418)]).then(n.bind(n,3418));case 39:t.t11=t.sent.Strike,t.t10.push.call(t.t10,t.t11);case 41:if(!o.code){t.next=47;break}return t.t12=r,t.next=45,Promise.all([n.e(798),n.e(54)]).then(n.bind(n,54));case 45:t.t13=t.sent.Code,t.t12.push.call(t.t12,t.t13);case 47:if(!o.unordered_list&&!o.ordered_list){t.next=53;break}return t.t14=r,t.next=51,Promise.all([n.e(798),n.e(427)]).then(n.bind(n,3427));case 51:t.t15=t.sent.ListItem,t.t14.push.call(t.t14,t.t15);case 53:if(!o.unordered_list){t.next=59;break}return t.t16=r,t.next=57,Promise.all([n.e(798),n.e(82)]).then(n.bind(n,7082));case 57:t.t17=t.sent.BulletList,t.t16.push.call(t.t16,t.t17);case 59:if(!o.ordered_list){t.next=65;break}return t.t18=r,t.next=63,Promise.all([n.e(798),n.e(961)]).then(n.bind(n,5961));case 63:t.t19=t.sent.OrderedList,t.t18.push.call(t.t18,t.t19);case 65:if(!(o.table_create||o.table_add_row_above||o.table_add_row_below||o.table_add_column_left||o.table_add_column_right||o.table_header_cell||o.table_header_row||o.table_header_column||o.table_merge_cells||o.table_remove||o.table_remove_column||o.table_remove_row)){t.next=87;break}return t.t20=r,t.next=69,Promise.all([n.e(798),n.e(112)]).then(n.bind(n,5112));case 69:return t.t21=t.sent.default.configure({resizable:!0}),t.t20.push.call(t.t20,t.t21),t.t22=r,t.next=74,Promise.all([n.e(798),n.e(467)]).then(n.bind(n,9467));case 74:return t.t23=t.sent.default,t.t22.push.call(t.t22,t.t23),t.t24=r,t.next=79,Promise.all([n.e(798),n.e(992)]).then(n.bind(n,2992));case 79:return t.t25=t.sent.default,t.t24.push.call(t.t24,t.t25),t.t26=r,t.next=84,Promise.all([n.e(798),n.e(157)]).then(n.bind(n,157));case 84:t.t27=t.sent.default,t.t26.push.call(t.t26,t.t27),a=!0;case 87:if(!o.horizontal_rule){t.next=93;break}return t.t28=r,t.next=91,Promise.all([n.e(798),n.e(829)]).then(n.bind(n,6829));case 91:t.t29=t.sent.HorizontalRule,t.t28.push.call(t.t28,t.t29);case 93:if(!o.undo&&!o.redo){t.next=99;break}return t.t30=r,t.next=97,Promise.all([n.e(798),n.e(142)]).then(n.bind(n,3142));case 97:t.t31=t.sent.History,t.t30.push.call(t.t30,t.t31);case 99:if(!o.link){t.next=105;break}return t.t32=r,t.next=103,Promise.all([n.e(798),n.e(802)]).then(n.bind(n,8802));case 103:t.t33=t.sent.default.configure({HTMLAttributes:{target:null,rel:null},openOnClick:!1,linkOnPaste:!1}),t.t32.push.call(t.t32,t.t33);case 105:if(!o.image){t.next=111;break}return t.t34=r,t.next=109,Promise.all([n.e(798),n.e(943)]).then(n.bind(n,2943));case 109:t.t35=t.sent.default.configure({inline:!0}),t.t34.push.call(t.t34,t.t35);case 111:if(!o.image&&!a){t.next=117;break}return t.t36=r,t.next=115,Promise.all([n.e(798),n.e(302)]).then(n.bind(n,9302));case 115:t.t37=t.sent.default,t.t36.push.call(t.t36,t.t37);case 117:return t.abrupt("return",r);case 118:case"end":return t.stop()}}),t)})))()},toolbar_post_init:function(){var e=this;if(0!==Object.values(this.toolbar).length){var t=function(t,n,r,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];t&&(t.addEventListener("click",(function(){var t;(t=e.editor.chain().focus())[n].apply(t,c(o)).run(),(r||a)&&e.editor.emit("selectionUpdate"),e.editor.options.element.dispatchEvent(new Event("pat-tiptap--".concat(n)))})),(r||a)&&e.editor.on("selectionUpdate",(function(){var l;r&&((l=e.editor).isActive.apply(l,[r].concat(c(o)))?t.classList.add("active"):t.classList.remove("active"));a&&(t.disabled=!e.editor.can()[n])})))},r=this.toolbar;t(r.heading_level_1,"toggleHeading","heading",!1,[{level:1}]),t(r.heading_level_2,"toggleHeading","heading",!1,[{level:2}]),t(r.heading_level_3,"toggleHeading","heading",!1,[{level:3}]),t(r.heading_level_4,"toggleHeading","heading",!1,[{level:4}]),t(r.heading_level_5,"toggleHeading","heading",!1,[{level:5}]),t(r.heading_level_6,"toggleHeading","heading",!1,[{level:6}]),t(r.paragraph,"setParagraph","paragraph"),t(r.blockquote,"toggleBlockquote","blockquote"),t(r.code_block,"toggleCodeBlock","codeBlock"),t(r.bold,"toggleBold","bold"),t(r.italic,"toggleItalic","italic"),t(r.strike,"toggleStrike","strike"),t(r.code,"toggleCode","code"),t(r.unordered_list,"toggleBulletList","bulletList"),t(r.ordered_list,"toggleOrderedList","orderedList"),t(r.table_create,"insertTable",null,!1,[{rows:3,cols:3,withHeaderRow:!0}]),t(r.table_add_row_above,"addRowBefore",null,!0),t(r.table_add_row_below,"addRowAfter",null,!0),t(r.table_add_column_left,"addColumnBefore",null,!0),t(r.table_add_column_right,"addColumnAfter",null,!0),t(r.table_header_cell,"toggleHeaderCell",null,!0),t(r.table_header_row,"toggleHeaderRow",null,!0),t(r.table_header_column,"toggleHeaderColumn",null,!0),t(r.table_remove,"deleteTable",null,!0),t(r.table_remove_row,"deleteRow",null,!0),t(r.table_remove_column,"deleteColumn",null,!0),t(r.horizontal_rule,"setHorizontalRule"),t(r.undo,"undo"),t(r.redo,"redo"),r.table_merge_cells&&(r.table_merge_cells.addEventListener("click",(function(){e.editor.chain().focus().mergeOrSplit().run(),e.editor.emit("selectionUpdate")})),this.editor.on("selectionUpdate",(function(){e.editor.can().mergeCells()&&r.table_merge_cells.classList.add("active"),e.editor.can().splitCell()&&r.table_merge_cells.classList.remove("active"),r.table_merge_cells.disabled=!e.editor.can().mergeOrSplit()}))),r.link&&this.options.linkPanel&&(r.link.addEventListener("click",b(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([n.e(798),n.e(842)]).then(n.bind(n,4842));case 2:return t.sent.context_menu_close("tiptap-link-context-menu"),t.next=5,i.Z.timeout(200);case 5:if(r=document.querySelector(e.options.linkPanel)){t.next=9;break}return p.warn("No link panel found."),t.abrupt("return");case 9:a=function(){var t=r.querySelector("[name=tiptap-href]"),n=r.querySelector("[name=tiptap-text]"),a=r.querySelector("[name=tiptap-target]"),o=r.querySelector(".tiptap-confirm, [name=tiptap-confirm]"),l=r.querySelector("[name=tiptap-remove]"),i=e.editor.state.selection.from,c=e.editor.state.selection.to,s=e.editor.state.doc.nodeAt(i),d=e.editor.getAttributes("link"),p=void 0!==d.href;p&&(e.dont_open_context_menu=!0,e.editor.commands.extendMarkRange("link"),e.dont_open_context_menu=!1),null!=d&&d.href&&(t.value=d.href,t.dispatchEvent(new Event("input"))),null!=d&&d.target&&a&&(a.checked=!0,a.dispatchEvent(new Event("input")));var _=null;i!==c?_=e.editor.state.doc.textBetween(i,c):p&&(_=s.text),n&&_&&(n.value=_,n.dispatchEvent(new Event("input")));var m=function(r){var o=e.editor.chain();!0===r&&o.focus();var l=(n?n.value:_)||"";o.command(function(){var n=b(regeneratorRuntime.mark((function n(r){var o,i,u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=r.tr,i=e.editor.state.schema.marks.link.create({href:t.value,target:a&&a.checked?null==a?void 0:a.value:null}),u=e.editor.state.schema.text(l).mark([i]),o.replaceSelectionWith(u,!1),n.abrupt("return",!0);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),o.run()};o?u.Z.add_event_listener(o,"click","tiptap_link_confirm",(function(){return m.bind(e)(!0)})):(u.Z.add_event_listener(t,"input","tiptap_link_href",m.bind(e)),u.Z.add_event_listener(n,"input","tiptap_link_text",m.bind(e)),u.Z.add_event_listener(a,"change","tiptap_link_target",m.bind(e))),u.Z.add_event_listener(l,"click","tiptap_link_remove",(function(){return e.editor.chain().focus().unsetLink().run()}))},a(),e.observer_link_panel&&e.observer_link_panel.disconnect(),e.observer_link_panel=new MutationObserver(a.bind(e)),e.observer_link_panel.observe(r,{childList:!0,subtree:!0,attributes:!1,characterData:!1});case 14:case"end":return t.stop()}}),t)})))),this.editor.on("selectionUpdate",b(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.editor.isActive("link")?r.link.classList.add("active"):r.link.classList.remove("active"),e.editor.can().setLink()?r.link.classList.remove("disabled"):r.link.classList.add("disabled"),!e.dont_open_context_menu&&e.options.context["menu-link"]&&e.debounced_context_menu(e.options.context["menu-link"],e.editor,(function(){return e.editor.isActive("link")}),e.pattern_link_context_menu(),"link-panel");case 3:case"end":return t.stop()}}),t)}))))),r.image&&this.options.imagePanel&&r.image.addEventListener("click",b(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Z.timeout(200);case 2:if(n=document.querySelector(e.options.imagePanel)){t.next=6;break}return p.warn("No image panel found."),t.abrupt("return");case 6:(r=function(){var t=n.querySelector("[name=tiptap-src]"),r=n.querySelector("[name=tiptap-alt]"),a=n.querySelector("[name=tiptap-title]"),o=n.querySelector(".tiptap-confirm, [name=tiptap-confirm]"),l=function(t){var o=n.querySelector("[name=tiptap-src][type=radio]:checked,\n                                 [name=tiptap-src][type=checkbox]:checked,\n                                 [name=tiptap-src][type=option]:checked,\n                                 [name=tiptap-src][type=hidden],\n                                 [name=tiptap-src][type=text]"),l=e.editor.chain();l.setImage({src:o.value,alt:(null==r?void 0:r.value)||null,title:(null==a?void 0:a.value)||null}),!0===t&&l.focus(),l.run()};o?u.Z.add_event_listener(o,"click","tiptap_image_confirm",(function(){return l.bind(e)(!0)})):(u.Z.add_event_listener(t,"change","tiptap_image_src",l.bind(e)),u.Z.add_event_listener(r,"change","tiptap_image_alt",l.bind(e)),u.Z.add_event_listener(a,"change","tiptap_image_title",l.bind(e)))})(),e.observer_image_panel&&e.observer_image_panel.disconnect(),e.observer_image_panel=new MutationObserver(r.bind(e)),e.observer_image_panel.observe(n,{childList:!0,subtree:!0,attributes:!1,characterData:!1});case 11:case"end":return t.stop()}}),t)})))),r.source&&this.options.sourcePanel&&r.source.addEventListener("click",b(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Z.timeout(200);case 2:if(n=document.querySelector(e.options.sourcePanel)){t.next=6;break}return p.warn("No source panel found."),t.abrupt("return");case 6:(r=function(){var t=n.querySelector("[name=tiptap-source]"),r=n.querySelector(".tiptap-confirm, [name=tiptap-confirm]");t.value=e.editor.getHTML(),t.dispatchEvent(new Event("input"));var a=function(n){var r=e.editor.chain();!0===n&&r.focus(),r.setContent(t.value),r.run()};r?u.Z.add_event_listener(r,"click","tiptap_source_confirm",(function(){return a.bind(e)(!0)})):u.Z.add_event_listener(t,"input","tiptap_source_text",a.bind(e))})(),e.observer_source_panel&&e.observer_source_panel.disconnect(),e.observer_source_panel=new MutationObserver(r.bind(e)),e.observer_source_panel.observe(n,{childList:!0,subtree:!0,attributes:!1,characterData:!1});case 11:case"end":return t.stop()}}),t)}))))}},pattern_link_context_menu:function(){var e=this;return{name:"tiptap-link-context-menu",trigger:".tiptap-link-context-menu",init:function(t){var r=this;return b(regeneratorRuntime.mark((function a(){var o,l,i,u,c,s;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=t[0],l=o.querySelector(".tiptap-open-new-link"),i=o.querySelector(".tiptap-edit-link"),u=o.querySelector(".tiptap-unlink"),a.next=6,Promise.all([n.e(798),n.e(842)]).then(n.bind(n,4842));case 6:c=a.sent.context_menu_close,l&&(null!=(s=e.editor.getAttributes("link"))&&s.href&&l.setAttribute("href",s.href),l.addEventListener("click",(function(){return c(r.name)}))),i&&i.addEventListener("click",(function(){c(r.name),e.toolbar.link.click()})),u&&u.addEventListener("click",(function(){c(r.name),e.editor.chain().focus().unsetLink().run()}));case 10:case"end":return a.stop()}}),a)})))()}}},pattern_mentions_context_menu:function(e){return{name:"tiptap-mentions-context-menu",trigger:".tiptap-mentions-context-menu",init:function(t){var r=this;return b(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Promise.all([n.e(798),n.e(842)]).then(n.bind(n,4842));case 2:o=a.sent.context_menu_close,t.on("submit",(function(t){t.preventDefault(),o(r.name);var n=new FormData(t.target).get("mention");n?e.command({id:n}):p.warn("No mention selected.")}));case 4:case"end":return a.stop()}}),a)})))()}}},pattern_tags_context_menu:function(e){return{name:"tiptap-tags-context-menu",trigger:".tiptap-tags-context-menu",init:function(t){var r=this;return b(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Promise.all([n.e(798),n.e(842)]).then(n.bind(n,4842));case 2:o=a.sent.context_menu_close,t.on("submit",(function(t){t.preventDefault(),o(r.name);var n=new FormData(t.target).get("tag");n?e.command({id:n}):p.warn("No tag selected.")}));case 4:case"end":return a.stop()}}),a)})))()}}}}),n(5670),n(8005),n(4328);window.__patternslib_import_styles=!0,r.Z.init()}}]);